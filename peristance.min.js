const e=["7","8","9"],o=["2","3"],s={value:0,persistance:0},t={},n=e=>"0"===e,i=e=>"5"===e,r=e=>parseInt(e)%2==0,l=(e,o=1)=>{let s=Array(o),t=[],n=i=>{if(i===o){let e=s.slice().sort();return t.some(o=>e.join("")===o.join(""))||t.push(e),void(e=void 0)}for(let o of e)s[i]=o,o=void 0,n(i+1)};return n(0),s=void 0,t},a=(e,o=e,s=0)=>{if(o.join("")in t)return{value:e,persistance:t[o.join("")]+s};if(1===o.length)return t[e.join("")]=s,{value:e,persistance:s};if(o.some(n)||o.some(i)&&o.some(r))return s+=2,t[e.join("")]=s,{value:e,persistance:s};s++;let l=1;o.map(e=>l*=parseInt(e));let c=l.toString().split("").sort(),p=a(e,c,s);return t[c.join("")]=p.persistance-s,p},c=(t={value:0,persistance:0})=>{if(!global.gc)return void console.log("Garbage collection is not exposed\nrun with '--expose_gc'");Object.assign(s,t);let n=s.persistance+1;for(;;){global.gc(),console.log("\tAt size ->",n);let t=l(e,n);for(let e of o.map(e=>t.map(o=>[e,o].flat())).flat()){let o=a(e);e=void 0,o.persistance>s.persistance?(Object.assign(s,o),console.log("\nFound ->",o,"\n")):o=void 0}t=void 0,n++}};c(),process.on("sigint",()=>{console.log(t)}),module.exports=c,module.exports.calculate=a,module.exports.combine=l;
